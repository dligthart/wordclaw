# WordClaw Environment Configuration
# Copy this file to .env and adjust as needed:
#   cp .env.example .env

# Server port (default: 4000)
PORT=4000

# PostgreSQL connection string
DATABASE_URL=postgres://postgres:postgres@localhost:5432/wordclaw

# API auth and policy controls
# AUTH_REQUIRED=true enforces API key auth on /api routes.
AUTH_REQUIRED=true

# OpenAI embeddings for semantic search (/api/search/semantic)
# Leave blank to disable semantic search in non-production environments.
OPENAI_API_KEY=

# Optional embedding guardrails
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EMBEDDING_MAX_PER_MINUTE=30
OPENAI_EMBEDDING_DAILY_BUDGET=2000
OPENAI_EMBEDDING_RETRIES=3
OPENAI_EMBEDDING_RETRY_BASE_MS=500

# API key to scope map (comma-separated):
#   key=scopes|pipe|separated
# Scopes: content:read, content:write, audit:read, admin
API_KEYS=writer=content:read|content:write|audit:read,reader=content:read|audit:read
